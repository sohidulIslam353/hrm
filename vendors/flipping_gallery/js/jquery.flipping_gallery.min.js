!function(e){var t={direction:"forward",flipDirection:"bottom",selector:"> a",spacing:10,showMaximum:15,enableScroll:true,autoplay:false};e.fn.flipping_gallery=function(n){function c(e,t){deltaOfInterest=t;var n=(new Date).getTime();if(n-f<l+r.animationTime){e.preventDefault();return}if(deltaOfInterest<0){i.flipForward()}else{i.flipBackward()}f=n}var r=e.extend({},t,n),i=e(this),s=i.find(r.selector).length,o=0,u=.5/s,a=1/s,f=0,l=500;if(s>r.showMaximum)a=1/r.showMaximum;i.addClass("fg-body");e.fn.realignCards=function(){var t=e(this);e.each(t.find(r.selector),function(n){if(n==0){e(this).addClass("active "+r.flipDirection);t.find(".fg-caption").remove();if(e(this).data("caption")){t.append("<div class='fg-caption' style='opacity: 0;'>"+e(this).attr("data-caption")+"</div>");t.find(".fg-caption").css({opacity:"1"})}}o=o+r.spacing;new_scale=1-u*n;new_opacity=1-a*n;if(n>=r.showMaximum){e(this).css("opacity",0)}else{e(this).css("opacity",1)}e(this).addClass("animate fg-card").css({"z-index":5-n,"margin-top":"-"+o+"px","-webkit-transform":"scale("+new_scale+")","-moz-transform":"scale("+new_scale+")","-o-transform":"scale("+new_scale+")",transform:"scale("+new_scale+")",opacity:new_opacity});e(this).click(function(){return false})});t.find("> .fg-card.active").click(function(){if(r.direction=="forward"){t.flipForward()}else{t.flipBackward()}return false})};e.fn.flipForward=function(){if(!i.hasClass("animating")){i.addClass("animating");i.find(".fg-caption").remove();var e=i.find("> .fg-card").first();e.addClass("fg-flipping").css("opacity","0");e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){var n=e.removeClass("animate active fg-flipping [class^='fg-count-'] "+r.flipDirection).clone();e.remove();i.append(n.hide());i.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){o=0;i.realignCards()});i.find("> .fg-card").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){i.find("> .fg-card").fadeIn();i.removeClass("animating")})})}};e.fn.flipBackward=function(){if(!i.hasClass("animating")){i.addClass("animating");var e=i.find("> .fg-card").last();var t=e.clone();e.remove();i.find(".active").removeClass("active "+r.flipDirection);i.prepend(t.attr("style","").css({opacity:"0","z-index":"99"}).hide().addClass("active fg-flipping "+r.flipDirection));i.find("> .fg-card.active").addClass("animate").show().removeClass("fg-flipping").css("opacity","1");o=0;i.realignCards();i.find("> .fg-card").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){i.removeClass("animating")})}};i.realignCards();if(r.enableScroll==true){e(i).bind("mousewheel DOMMouseScroll",function(e){e.preventDefault();var t=e.originalEvent.wheelDelta||-e.originalEvent.detail;c(e,t)})}if(r.autoplay!=0&&r.autoplay!=false){setInterval(function(){if(e(i.selector+":hover").length<1)i.flipForward()},r.autoplay)}}}(window.jQuery)